// Generated by CoffeeScript 1.4.0
(function() {
  var selectTool, _base, _ref, _ref1;

  if ((_ref = window.tacit) == null) {
    window.tacit = {};
  }

  if ((_ref1 = (_base = window.tacit).tools) == null) {
    _base.tools = {};
  }

  selectTool = {
    name: "select",
    mouseDown: function(easel, eventType, mouseLoc, object) {
      var idx, selection;
      this.dragging = true;
      if (eventType !== "background") {
        if (eventType === "node") {
          selection = easel.pad.sketch.selectedNodes;
        } else {
          selection = easel.pad.sketch.selectedLinks;
        }
        idx = selection.indexOf(object);
        if (idx === -1) {
          selection.push(object);
        } else {
          selection.splice(idx, 1);
        }
        if (eventType === "node") {
          easel.pad.sketch.selectedNodes = selection;
        } else {
          easel.pad.sketch.selectedLinks = selection;
        }
        return easel.pad.sketch.resize();
      }
    },
    mouseUp: function(easel, eventType, mouseLoc, object) {
      return this.dragging = false;
    },
    mouseMove: function(easel, eventType, mouseLoc, object) {
      var idx, selection;
      if (this.dragging) {
        if (eventType !== "background") {
          if (eventType === "node") {
            selection = easel.pad.sketch.selectedNodes;
          } else {
            selection = easel.pad.sketch.selectedLinks;
          }
          idx = selection.indexOf(object);
          if (idx === -1) {
            selection.push(object);
          }
          if (eventType === "node") {
            easel.pad.sketch.selectedNodes = selection;
          } else {
            easel.pad.sketch.selectedLinks = selection;
          }
          return easel.pad.sketch.resize();
        }
      }
    }
  };

  window.tacit.tools.select = selectTool;

}).call(this);
